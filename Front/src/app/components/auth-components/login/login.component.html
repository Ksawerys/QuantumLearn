<!-- No he podido hacer los cambios de codigo con el @if porque dejarian de funcionar las transiciones -->

<div class="form" [class.active]="showRegister">
  @if (!showRegister) {
  <div class="form-toggle"></div>
  }@else{
    <div class="form-toggle visible" (click)="showRegister = false; showRoles = false;"></div>  
  }
  <div class="form-arrow" [class.visible]="showRoles" (click)="showRoles = false"></div>

  <div class="form-panel one" [class.hidden]="showRegister">
    <div class="form-header">
      <h1>Account Login</h1>
    </div>
    <div class="form-content">
      <form (submit)="onSubmit($event)" [formGroup]="loginFormulario">
        <div class="form-group">
          <input type="text" id="email" name="email" required formControlName="email">
          <label for="email">Email</label>
        </div>
        <div class="form-group">
          <input type="password" id="password" name="password" required>
          <label for="password">Password</label>
        </div>
        <div class="form-group">
          <a class="form-link" href="#">Forgot Password?</a>
          @if (!showRegister) {
            <a class="form-link" (click)="showRegister = true">You don't have an account yet?</a>
          }
          
        </div>
        <div class="form-group">
          <button type="submit">Log In</button>
        </div>
      </form>
    </div>
  </div>

  <div class="form-panel two" [class.active]="showRegister">
    <div class="form-header">
        <h1>Register Account</h1>
      </div>
      <div class="form-content">
      <form (submit)="onSubmit($event)" [formGroup]="registerForm">
        <div class="form-register-inputs" [class.hidden]="showRoles">
        <div class="form-group">
          <input type="email" id="email" name="email" required>
          <label for="email">Email Address</label>
        </div>
        <div class="form-group">
          <input type="text" id="username" name="username" required>
          <label for="username">Username</label>
        </div>
        <div class="form-group">
          <input type="password" id="password" name="password" required>
          <label for="password">Password</label>
        </div>
        <div class="form-group">
          <input type="password" id="cpassword" name="cpassword" required>
          <label for="cpassword">Confirm Password</label>
        </div>
        <div class="form-group">
          <button type="submit"  (click)="showRoles = true">Select Roles</button>
        </div>
      </div>
      <div class="roles-group" [class.active]="showRoles">
        <div class="role-option" id="role-teacher" (click)="toggleSelection($event)">
            <h3>Teacher</h3>
            <p>Empower your teaching with QuantumLearn. Gain insights into student progress, receive personalized feedback, and adapt teaching materials effortlessly with AI assistance.</p>
        </div>
        <div class="role-option" id="role-student" (click)="toggleSelection($event)">
            <h3>Student</h3>
            <p>Achieve academic success with QuantumLearn. Set and track goals, access personalized guidance, and visualize progress with intuitive graphs and statistics.</p>
        </div>
        <div class="role-option" id="role-tutor" (click)="toggleSelection($event)">
            <h3>Tutor</h3>
            <p>Support student success with QuantumLearn. Monitor progress, communicate with teachers, and facilitate collaboration for academic growth.</p>
        </div>
        <div class="form-group">
          <button type="submit" (click)="showRoles = true" (click)="register()">Register</button>
        </div>
      </div>
      </form>
    </div>
  </div>
</div>
